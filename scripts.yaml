# Alexa, announce a generic messag on media players
alexa_announce:
  alias: 'Announce a message on Alexa'
  sequence:
    - service: notify.alexa_media
      data_template:
        message: "{{ message }}"
        data:
          type: announce
          method: spoken
        target: 
          - media_player.echo_soggiorno
          - media_player.echo_dot_studio

# Alexa, announce home recycling for tomorrow
alexa_home_recycling:
  alias: 'Announce home recycling on Alexa'
  sequence:
    - service: script.alexa_announce
      data_template:
        message: >
          {% set collections = state_attr("sensor.home_recycling", "collections") %}
            {% if collections|length == 0 %}
              Non c'è nessuna spazzatura in ritiro domani.
            {% else %}
              La spazzatura in ritiro domani è {{ collections|join(" e ") }}
          {% endif %}

# Turn the Christmas Tree on and play Jingle Bells using Google Home (via IFTTT)
christmasspirit_googlehome_on:
  alias: 'Turn the Christmas Tree on from Google Home'
  sequence:
    - service: ifttt.trigger
      data:
        event: jarvis_sonoff01_turnon
    - service: homeassistant.turn_on
      entity_id: switch.sonoff_10001f9bcf
    - service: script.turn_on
      entity_id: script.play_jingle_bells

# Play Jingle Bells on Google Home
play_jingle_bells:
  alias: 'Play Jingle Bells'
  sequence:
    - service: media_player.turn_on
      entity_id: media_player.google_home_salotto
    - service: media_player.play_media
      data:
        entity_id: media_player.google_home_salotto
        media_content_id: !secret www_music_jinglebells
        media_content_type: audio/mp3

# Remote - TV Cucina
tv_cucina_power_on_off:
  sequence:
    - service: remote.send_command
      entity_id: remote.xiaomi_ir_remote
      data:
        command:
          - 'tv_cucina_power'

tv_cucina_volume_up:
  sequence:
    - service: remote.send_command
      entity_id: 'remote.xiaomi_ir_remote'
      data:
        command:
          - 'tv_cucina_volume_up'

tv_cucina_volume_down:
  sequence:
    - service: remote.send_command
      entity_id: 'remote.xiaomi_ir_remote'
      data:
        command:
          - 'tv_cucina_volume_down'

tv_cucina_mute:
  sequence:
    - service: remote.send_command
      entity_id: 'remote.xiaomi_ir_remote'
      data:
        command:
          - 'tv_cucina_mute'

tv_cucina_channel_up:
  sequence:
    - service: remote.send_command
      entity_id: 'remote.xiaomi_ir_remote'
      data:
        command:
          - 'tv_cucina_channel_up'
        
tv_cucina_channel_down:
  sequence:
    - service: remote.send_command
      entity_id: 'remote.xiaomi_ir_remote'
      data:
        command:
          - 'tv_cucina_channel_down'

tv_cucina_change_source:
  sequence:
    - service: remote.send_command
      entity_id: 'remote.xiaomi_ir_remote'
      data:
        command:
          - 'tv_cucina_change_source'

# Remote - TV Sala
tv_sala_power_on_off:
  sequence:
    - service: remote.send_command
      entity_id: remote.xiaomi_ir_remote
      data:
        command:
          - 'tv_sala_power'

tv_sala_volume_up:
  sequence:
    - service: remote.send_command
      entity_id: 'remote.xiaomi_ir_remote'
      data:
        command:
          - 'tv_sala_volume_up'

tv_sala_volume_down:
  sequence:
    - service: remote.send_command
      entity_id: 'remote.xiaomi_ir_remote'
      data:
        command:
          - 'tv_sala_volume_down'

tv_sala_mute:
  sequence:
    - service: remote.send_command
      entity_id: 'remote.xiaomi_ir_remote'
      data:
        command:
          - 'tv_sala_mute'

tv_sala_channel_up:
  sequence:
    - service: remote.send_command
      entity_id: 'remote.xiaomi_ir_remote'
      data:
        command:
          - 'tv_sala_channel_up'
        
tv_sala_channel_down:
  sequence:
    - service: remote.send_command
      entity_id: 'remote.xiaomi_ir_remote'
      data:
        command:
          - 'tv_sala_channel_down'

tv_sala_home_button:
  sequence:
    - service: remote.send_command
      entity_id: 'remote.xiaomi_ir_remote'
      data:
        command:
          - 'tv_sala_home_button'

tv_sala_center_button:
  sequence:
    - service: remote.send_command
      entity_id: 'remote.xiaomi_ir_remote'
      data:
        command:
          - 'tv_sala_center_button'

tv_sala_right_button:
  sequence:
    - service: remote.send_command
      entity_id: 'remote.xiaomi_ir_remote'
      data:
        command:
          - 'tv_sala_right_button'

tv_sala_left_button:
  sequence:
    - service: remote.send_command
      entity_id: 'remote.xiaomi_ir_remote'
      data:
        command:
          - 'tv_sala_left_button'
